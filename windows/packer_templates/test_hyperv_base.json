{
    "variables": {
      "vm_name": "test_hypervbase",
      "cpu": "4",
      "ram_size": "8192",
      "disk_size": "40000",
      "iso_url": "Windows-Server-2019.iso",
      "iso_checksum_type": "sha256",
      "iso_checksum": "61A391F0DC98E703DA674DF3C984AC2EB432FF757F949385360E68476C920478",
      "communicator": "winrm",
      "username": "itadm",
      "password": "itadm"
    },

    "builders": [
        {
          "type": "hyperv-iso",
          "vm_name": "{{user `vm_name`}}",
          "disK_size": "{{user `disk_size`}}",
          "cpus": "{{user `cpu`}}",
          "memory": "{{user `ram_size`}}",
          "boot_command": [
            "setup.exe /ConfigFile:http://{{ .HTTPIP }}:{{ .HTTPPort }}/SetupConfig.ini"
          ],
          "floppy_files": [
            "scripts/serverstandard/autounattend.xml",
            "scripts/ConfigureRemotingForAnsible.ps1",
            "scripts/run-sysprep.cmd",
            "../shared/windows/SetupComplete.cmd"
          ],
          "http_directory": "scripts",
          "generation": "1",
          "headless": false,
          "iso_urls": "{{user `iso_url`}}",
          "iso_checksum_type": "{{user `iso_checksum_type`}}",
          "iso_checksum": "{{user `iso_checksum`}}",
          "communicator": "{{user `communicator`}}",
          "winrm_username": "{{user `username`}}",
          "winrm_password": "{{user `password`}}",
          "winrm_timeout" : "4h",
          "output_directory": "output/hyperv"
        }
    ]
}