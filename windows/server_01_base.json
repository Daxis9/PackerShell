{
    "variables": {
      "builder_name": "",
      "os_name": "",
      "vm_name": "",
      "build_type": "",
      "cpu": "",
      "ram_size": "",
      "disk_size": "",
      "iso_url": "",
      "iso_checksum_type": "sha256",
      "iso_checksum": "61A391F0DC98E703DA674DF3C984AC2EB432FF757F949385360E68476C920478",
      "communicator": "winrm",
      "username": "itadm",
      "password": "itadm",
      "output_directory": "",
      "unattend_file": "",
      "skip_export": "",
      "type": "",
      "generation": ""
    },

    "builders": [
        {
          "name": "hyperv-bios",
          "type": "hyperv-iso",
          "vm_name": "{{user `vm_name`}}",
          "disk_size": "{{user `disk_size`}}",
          "cpus": "{{user `cpu`}}",
          "memory": "{{user `ram_size`}}",
          "http_directory": "scripts",
          "floppy_files": [
            "{{ user `unattend_file` }}",
            "scripts/ConfigureRemotingForAnsible.ps1",
            "scripts/run-sysprep.cmd",
            "scripts/SetupComplete.cmd"
          ],
          "headless": false,
          "generation": "{{user `generation`}}",
          "iso_urls": "{{user `iso_url`}}",
          "iso_checksum_type": "{{user `iso_checksum_type`}}",
          "iso_checksum": "{{user `iso_checksum`}}",
          "communicator": "{{user `communicator`}}",
          "winrm_username": "{{user `username`}}",
          "winrm_password": "{{user `password`}}",
          "winrm_timeout" : "4h",
          "shutdown_command": "a:\\run-sysprep.cmd",
          "output_directory": "{{user `output_directory`}}",
          "skip_export": "{{user `skip_export`}}"
        },
        {
          "name": "hyperv-uefi",
          "type": "hyperv-iso",
          "vm_name": "{{user `vm_name`}}",
          "disk_size": "{{user `disk_size`}}",
          "cpus": "{{user `cpu`}}",
          "memory": "{{user `ram_size`}}",
          "http_directory": "scripts",
          "boot_command": [
            "a<enter><wait>a<enter><wait>a<enter><wait>a<enter>"
          ],
          "headless": false,
          "generation": "{{user `generation`}}",
          "iso_urls": "{{user `iso_url`}}",
          "iso_checksum_type": "{{user `iso_checksum_type`}}",
          "iso_checksum": "{{user `iso_checksum`}}",
          "communicator": "{{user `communicator`}}",
          "winrm_username": "{{user `username`}}",
          "winrm_password": "{{user `password`}}",
          "winrm_timeout" : "4h",
          "shutdown_command": "a:\\run-sysprep.cmd",
          "output_directory": "{{user `output_directory`}}",
          "skip_export": "{{user `skip_export`}}",
          "enable_secure_boot": true
        }
      ]
}